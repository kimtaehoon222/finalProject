<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="workMapper">

	<resultMap type="Work" id="workResultSet">
		<id property="wNo" column="WORK_NO"/>
		<result property="empNo" column="EMP_NO"/>
		<result property="workDate" column="WORK_DATE"/>
		<result property="startTime" column="START_TIME"/>
		<result property="endTime" column="END_TIME"/>
		<result property="totalTime" column="TOTAL_TIME"/>
	</resultMap>
	
	<resultMap type="WorkSInfo" id="workSInfoResultSet">
		<id property="sNo" column="S_NO"/>
		<result property="empNo" column="EMP_NO"/>
		<result property="sCode" column="S_CODE"/>
		<result property="sName" column="S_NAME"/>
	</resultMap>
	
	<resultMap type="VacationInfo" id="VacationInfoResultSet">
		<id property="empNo" column="EMP_NO"/>
		<result property="allDays" column="ALL_DAYS"/>
		<result property="usedDays" column="USED_DAYS"/>
		<result property="leftDays" column="LEFT_DAYS"/>
	</resultMap>
	
	
	<select id="selectWork" parameterType="_int" resultMap="workResultSet">
		SELECT
			  W_NO
			, EMP_NO
			, W_DATE
			, SUBSTR(START_TIME, 11, LENGTH(START_TIME)) START_TIME,
			, SUBSTR(END_TIME, 11, LENGTH(END_TIME)) END_TIME
		  FROM
		    WORK
		 WHERE EMP_NO = #{empNo} AND TO_CHAR(WORK_DATE, 'yy/MM/dd') = TO_CHAR(CURRENT_DATE, 'yy/MM/dd')
	</select>
</mapper>